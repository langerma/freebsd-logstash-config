output {
	if [fields][middleware] == "squid.json" {
		elasticsearch {
		    index => "squidjson-%{+YYYY.MM.dd}"
			hosts => [ "127.0.0.1:9200" ]
		}
	} else if [type] == "freenas" {
	    elasticsearch {
			index => "freenas-%{+YYYY.MM.dd}"
			hosts => [ "127.0.0.1:9200" ]
		}
	} else if [type] == "pfsense" {
        elasticsearch {
            index => "pfsense-%{+YYYY.MM.dd}"
            hosts => [ "127.0.0.1:9200" ]
        }
    } else if [type] == "cisco" {
        elasticsearch {
        	index => "cisco-%{+YYYY.MM.dd}"
        	hosts => [ "127.0.0.1:9200" ]
        }
    } else if [source] == "/var/log/httpd-access.log" {
        elasticsearch {
            index => "apache-%{+YYYY.MM.dd}"
            hosts => [ "127.0.0.1:9200" ]
        }
    } else if [type] == "haproxy" {
        elasticsearch {
            index => "haproxy-%{+YYYY.MM.dd}"
            hosts => [ "127.0.0.1:9200" ]
        }
    }
    else {
		elasticsearch {
			hosts => [ "127.0.0.1:9200" ]
		}
	}
}
